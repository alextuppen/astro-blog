---
import { MissingImage } from "../../svg";
interface ListItem {
  href: string;
  title: string;
  src: string | undefined;
  alt: string | undefined;
  description: string;
}

interface Props {
  list: ListItem[];
}

const { list } = Astro.props;
---

<ol>
  {
    list.map(({ href, title, src, alt, description }) => (
      <li>
        <a href={href}>
          <h2 class="title">{title}</h2>
          {src != null && alt != null ? (
            <img class="image" width={300} height={300} src={src} alt={alt} />
          ) : (
            <MissingImage className="image placeholder" />
          )}
          <span class="description">{description}</span>
        </a>
      </li>
    ))
  }
</ol>

<style lang="scss">
  @import 'src/styles/_globals.scss';
  @import 'src/styles/typography.scss';

  ol {
    list-style-type: none;
    display: flex;
    flex-direction: column;
    gap: var(--paddingDouble);
    margin: unset;
    padding: unset;
  }

  li {
    @include elev-1();
    padding: 0 var(--paddingHalf);
  }

  a {
    padding: var(--paddingDouble) 0;
    display: grid;
    grid-template-areas:
      "title"
      "image"
      "description";
    justify-items: center;
    text-align: center;
    color: unset;
    text-decoration: unset;
  }

  a:active > .title,
  a:hover > .title {
    text-decoration: underline;
    text-decoration-color: $primary;
  }

  .title {
    grid-area: title;
    margin: unset;
  }

  .time {
    color: $textMediumEmphasis;
  }

  .image {
    grid-area: image;
    border-radius: var(--borderRadius);
    margin: var(--paddingDouble) 0;
  }

  .placeholder {
    margin: 20px !important;
    width: 100%;
    height: 15rem;
    color: $text;
  }

  .description {
    grid-area: description;
  }

  @include bp-medium {
    li {
      @include elev-1();
      padding: 0;
      border-radius: var(--borderRadius);
    }

    a {
      padding: 0;
      grid-template-areas:
        "image title"
        "image description";
    }

    .title {
      padding: var(--paddingDouble);
    }

    .image {
      border-top-right-radius: unset;
      border-bottom-right-radius: unset;
      margin: 0;
      padding: unset;
    }

    .description {
      padding: 0 var(--paddingDouble) var(--padding);
    }
  }
</style>
